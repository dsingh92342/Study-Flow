<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard - Study Flow</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <i class="fas fa-book-reader"></i>
                <span>Study Flow</span>
            </div>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="#" id="userName">User</a>
                <a href="#" onclick="logout(); return false;">Logout</a>
            </div>
        </div>
    </nav>

    <div class="dashboard container">
        <div class="dashboard-header">
            <h1 class="dashboard-title">My Dashboard</h1>
            <a href="post-job.html" class="btn-primary">
                <i class="fas fa-plus"></i> Post New Assignment
            </a>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon primary">
                    <i class="fas fa-clipboard-list"></i>
                </div>
                <div class="stat-info">
                    <h3 id="totalJobs">0</h3>
                    <p>Total Assignments</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon warning">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="stat-info">
                    <h3 id="pendingJobs">0</h3>
                    <p>Pending</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon success">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="stat-info">
                    <h3 id="completedJobs">0</h3>
                    <p>Completed</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon danger">
                    <i class="fas fa-dollar-sign"></i>
                </div>
                <div class="stat-info">
                    <h3 id="totalSpent">$0</h3>
                    <p>Total Spent</p>
                </div>
            </div>
        </div>

        <div class="section-title">My Assignments</div>
        <div id="jobsContainer" class="cards-grid">
            <!-- Jobs will be loaded here -->
        </div>

        <div id="noJobs" style="display: none; text-align: center; padding: 40px;">
            <i class="fas fa-clipboard-list" style="font-size: 4rem; color: var(--gray); margin-bottom: 20px;"></i>
            <h3 style="color: var(--gray); margin-bottom: 10px;">No assignments yet</h3>
            <p style="color: var(--gray); margin-bottom: 30px;">Post your first assignment and get help from fellow students!</p>
            <a href="post-job.html" class="btn-primary">Post Assignment</a>
        </div>
    </div>

    <script src="js/auth.js"></script>
    <script src="js/jobs.js"></script>
    <script src="js/dashboard.js"></script>
    <script>
        // Load student dashboard data
        document.addEventListener('DOMContentLoaded', function() {
            if (!checkAuth('student')) return;
            loadStudentDashboard();
            document.getElementById('userName').textContent = getCurrentUser().name;
        });
    </script>
</body>
</html>
